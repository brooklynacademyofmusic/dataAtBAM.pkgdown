url: !expr file.path(Sys.getenv("PKGDOWN_URL"),Sys.getenv("PKGDOWN_DIR"),pkgload::pkg_name())

home:
  strip_header: true
  sidebar:
    structure: [links, authors, dev, toc]

deploy:
  install_metadata: true

template:
  bootstrap: 5
  bootswatch: sandstone
  includes:
    after_body: >
      <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: false });
        mermaid.run({
          querySelector: '.mermaid code',
        });

        jQuery("pre.mermaid code").on("click", (e) => jQuery(e.currentTarget).toggleClass("svg-modal"))
      </script>

navbar:
  bg: primary
  structure:
    left:  [intro, articles, reference, tutorials, news, packages]
    right: [search, github]
  components:
    packages:
      text: Developer
      menu:
      - text: data @ BAM
        href: "../dataAtBAM/index.html"
      - text: tessireport
        href: "../tessireport/index.html"
      - text: tessistream
        href: "../tessistream/index.html"
      - text: tessilake
        href: "../tessilake/index.html"
      - text: tessiflow
        href: "../tessiflow/index.html"

reference:
  - title: Power BI reports
    desc: Dashboards hosted on Power BI and related topics
  - contents:
    - has_concept("powerbi")
  - title: Tessitura
    desc: Scheduled reports, utilities, and related topics
  - contents:
    - has_concept("tessitura")
  - title: R scripts
    desc:  R scripts used for synthesizing datasets, auditing, reporting, and machine learning
  - contents:
    - has_concept("R")
  - title: Other
    desc: Other things
  - contents:
    - lacks_concepts(c("R","powerbi","tessitura"))
